{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="container">
    <div class="row">
        <div class="col-12">
            <h2>Explore</h2>
        </div>
    </div>
    <div class="row">
        {% if user_subscription %}
            <form class="form-inline d-inline" method="post" action="{% url 'subscription_delete' sid=user_subscription.id %}">
                {% csrf_token %}
                <button class="btn btn-sm btn-outline-dark" type="submit">Unsubscribe</button>       
            </form>
        {% else %}
            <form class="form-inline d-inline" method="post" action="{% url 'subject_subscription_create' sid=subject.id %}">
                {% csrf_token %}
                <button class="btn btn-sm btn-outline-dark" type="submit">Subscribe</button>       
            </form>
        {% endif %}
        
        <form class="form-inline col-12" method="post">
            {% csrf_token %}
            <input class="form-control col-10" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-dark col-2" type="submit">Search</button>
        </form>
    </div>

     <!-- Shittiest HTML ever ahead -->
     <br /><br />
     <h6>{{sub_status}}</h6>
     <br />
    <br />

    Show Subject details Here!
    <ul>
        <li><b>Subject ID: </b>{{subject.id}}</li>
        <li><b>Subject Topic: </b>{{subject.topic}}</li>
        <li><b>Subject Title: </b> {{subject.title}}</li>
    </ul>
    <div class="row w-100">
        <ul class="list-group list-group-flush w-100 d-block">
            {% for curriculum in subject.curriculum.all %}
            <li class="list-group-item">{{curriculum.title}}</li>
            {% endfor %}
        </ul>
    </div>
</div>
{% endblock %}
